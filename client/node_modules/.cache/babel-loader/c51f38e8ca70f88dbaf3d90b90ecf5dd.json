{"ast":null,"code":"import _toConsumableArray from\"/Users/riteshkumar/Desktop/proj/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/riteshkumar/Desktop/proj/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Container,Grow,Grid,AppBar,TextField,Button,Paper}from'@material-ui/core';import{useDispatch}from'react-redux';import{useHistory,useLocation}from'react-router-dom';import ChipInput from'material-ui-chip-input';import{getPostsBySearch}from'../../actions/posts';import Posts from'../Posts/Posts';import Form from'../Form/Form';import Pagination from'../Pagination';import useStyles from'./styles';function useQuery(){return new URLSearchParams(useLocation().search);}var Home=function Home(){var classes=useStyles();var query=useQuery();var page=query.get('page')||1;var searchQuery=query.get('searchQuery');var _useState=useState(0),_useState2=_slicedToArray(_useState,2),currentId=_useState2[0],setCurrentId=_useState2[1];var dispatch=useDispatch();var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),search=_useState4[0],setSearch=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),tags=_useState6[0],setTags=_useState6[1];var history=useHistory();var searchPost=function searchPost(){if(search.trim()||tags){dispatch(getPostsBySearch({search:search,tags:tags.join(',')}));history.push(\"/posts/search?searchQuery=\".concat(search||'none',\"&tags=\").concat(tags.join(',')));}else{history.push('/');}};var handleKeyPress=function handleKeyPress(e){if(e.keyCode===13){searchPost();}};var handleAddChip=function handleAddChip(tag){return setTags([].concat(_toConsumableArray(tags),[tag]));};var handleDeleteChip=function handleDeleteChip(chipToDelete){return setTags(tags.filter(function(tag){return tag!==chipToDelete;}));};return/*#__PURE__*/React.createElement(Grow,{in:true},/*#__PURE__*/React.createElement(Container,{maxWidth:\"xl\"},/*#__PURE__*/React.createElement(Grid,{container:true,justify:\"space-between\",alignItems:\"stretch\",spacing:3,className:classes.gridContainer},/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,sm:6,md:9},/*#__PURE__*/React.createElement(Posts,{setCurrentId:setCurrentId})),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12,sm:6,md:3},/*#__PURE__*/React.createElement(AppBar,{className:classes.appBarSearch,position:\"static\",color:\"inherit\"},/*#__PURE__*/React.createElement(TextField,{onKeyDown:handleKeyPress,name:\"search\",variant:\"outlined\",label:\"Search Memories\",fullWidth:true,value:search,onChange:function onChange(e){return setSearch(e.target.value);}}),/*#__PURE__*/React.createElement(ChipInput,{style:{margin:'10px 0'},value:tags,onAdd:function onAdd(chip){return handleAddChip(chip);},onDelete:function onDelete(chip){return handleDeleteChip(chip);},label:\"Search Tags\",variant:\"outlined\"}),/*#__PURE__*/React.createElement(Button,{onClick:searchPost,className:classes.searchButton,variant:\"contained\",color:\"primary\"},\"Search\")),/*#__PURE__*/React.createElement(Form,{currentId:currentId,setCurrentId:setCurrentId}),!searchQuery&&!tags.length&&/*#__PURE__*/React.createElement(Paper,{className:classes.pagination,elevation:6},/*#__PURE__*/React.createElement(Pagination,{page:page}))))));};export default Home;","map":{"version":3,"names":["React","useState","Container","Grow","Grid","AppBar","TextField","Button","Paper","useDispatch","useHistory","useLocation","ChipInput","getPostsBySearch","Posts","Form","Pagination","useStyles","useQuery","URLSearchParams","search","Home","classes","query","page","get","searchQuery","_useState","_useState2","_slicedToArray","currentId","setCurrentId","dispatch","_useState3","_useState4","setSearch","_useState5","_useState6","tags","setTags","history","searchPost","trim","join","push","concat","handleKeyPress","e","keyCode","handleAddChip","tag","_toConsumableArray","handleDeleteChip","chipToDelete","filter","createElement","in","maxWidth","container","justify","alignItems","spacing","className","gridContainer","item","xs","sm","md","appBarSearch","position","color","onKeyDown","name","variant","label","fullWidth","value","onChange","target","style","margin","onAdd","chip","onDelete","onClick","searchButton","length","pagination","elevation"],"sources":["/Users/riteshkumar/Desktop/proj/client/src/components/Home/Home.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Container, Grow, Grid, AppBar, TextField, Button, Paper } from '@material-ui/core';\nimport { useDispatch } from 'react-redux';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport ChipInput from 'material-ui-chip-input';\n\nimport { getPostsBySearch } from '../../actions/posts';\nimport Posts from '../Posts/Posts';\nimport Form from '../Form/Form';\nimport Pagination from '../Pagination';\nimport useStyles from './styles';\n\nfunction useQuery() {\n  return new URLSearchParams(useLocation().search);\n}\nconst Home = () => {\n  const classes = useStyles();\n  const query = useQuery();\n  const page = query.get('page') || 1;\n  const searchQuery = query.get('searchQuery');\n\n  const [currentId, setCurrentId] = useState(0);\n  const dispatch = useDispatch();\n\n  const [search, setSearch] = useState('');\n  const [tags, setTags] = useState([]);\n  const history = useHistory();\n\n  const searchPost = () => {\n    if (search.trim() || tags) {\n      dispatch(getPostsBySearch({ search, tags: tags.join(',') }));\n      history.push(`/posts/search?searchQuery=${search || 'none'}&tags=${tags.join(',')}`);\n    } else {\n      history.push('/');\n    }\n  };\n\n  const handleKeyPress = (e) => {\n    if (e.keyCode === 13) {\n      searchPost();\n    }\n  };\n\n  const handleAddChip = (tag) => setTags([...tags, tag]);\n\n  const handleDeleteChip = (chipToDelete) => setTags(tags.filter((tag) => tag !== chipToDelete));\n\n  return (\n    <Grow in>\n      <Container maxWidth=\"xl\">\n        <Grid container justify=\"space-between\" alignItems=\"stretch\" spacing={3} className={classes.gridContainer}>\n          <Grid item xs={12} sm={6} md={9}>\n            <Posts setCurrentId={setCurrentId} />\n          </Grid>\n          <Grid item xs={12} sm={6} md={3}>\n            <AppBar className={classes.appBarSearch} position=\"static\" color=\"inherit\">\n              <TextField onKeyDown={handleKeyPress} name=\"search\" variant=\"outlined\" label=\"Search Memories\" fullWidth value={search} onChange={(e) => setSearch(e.target.value)} />\n              <ChipInput\n                style={{ margin: '10px 0' }}\n                value={tags}\n                onAdd={(chip) => handleAddChip(chip)}\n                onDelete={(chip) => handleDeleteChip(chip)}\n                label=\"Search Tags\"\n                variant=\"outlined\"\n              />\n              <Button onClick={searchPost} className={classes.searchButton} variant=\"contained\" color=\"primary\">Search</Button>\n            </AppBar>\n            <Form currentId={currentId} setCurrentId={setCurrentId} />\n            {(!searchQuery && !tags.length) && (\n              <Paper className={classes.pagination} elevation={6}>\n                <Pagination page={page} />\n              </Paper>\n            )}\n          </Grid>\n        </Grid>\n      </Container>\n    </Grow>\n  );\n};\n\nexport default Home;"],"mappings":"kUAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,SAAS,CAAEC,IAAI,CAAEC,IAAI,CAAEC,MAAM,CAAEC,SAAS,CAAEC,MAAM,CAAEC,KAAK,KAAQ,mBAAmB,CAC3F,OAASC,WAAW,KAAQ,aAAa,CACzC,OAASC,UAAU,CAAEC,WAAW,KAAQ,kBAAkB,CAC1D,MAAO,CAAAC,SAAS,KAAM,wBAAwB,CAE9C,OAASC,gBAAgB,KAAQ,qBAAqB,CACtD,MAAO,CAAAC,KAAK,KAAM,gBAAgB,CAClC,MAAO,CAAAC,IAAI,KAAM,cAAc,CAC/B,MAAO,CAAAC,UAAU,KAAM,eAAe,CACtC,MAAO,CAAAC,SAAS,KAAM,UAAU,CAEhC,QAAS,CAAAC,QAAQA,CAAA,CAAG,CAClB,MAAO,IAAI,CAAAC,eAAe,CAACR,WAAW,CAAC,CAAC,CAACS,MAAM,CAAC,CAClD,CACA,GAAM,CAAAC,IAAI,CAAG,QAAP,CAAAA,IAAIA,CAAA,CAAS,CACjB,GAAM,CAAAC,OAAO,CAAGL,SAAS,CAAC,CAAC,CAC3B,GAAM,CAAAM,KAAK,CAAGL,QAAQ,CAAC,CAAC,CACxB,GAAM,CAAAM,IAAI,CAAGD,KAAK,CAACE,GAAG,CAAC,MAAM,CAAC,EAAI,CAAC,CACnC,GAAM,CAAAC,WAAW,CAAGH,KAAK,CAACE,GAAG,CAAC,aAAa,CAAC,CAE5C,IAAAE,SAAA,CAAkC1B,QAAQ,CAAC,CAAC,CAAC,CAAA2B,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAtCG,SAAS,CAAAF,UAAA,IAAEG,YAAY,CAAAH,UAAA,IAC9B,GAAM,CAAAI,QAAQ,CAAGvB,WAAW,CAAC,CAAC,CAE9B,IAAAwB,UAAA,CAA4BhC,QAAQ,CAAC,EAAE,CAAC,CAAAiC,UAAA,CAAAL,cAAA,CAAAI,UAAA,IAAjCb,MAAM,CAAAc,UAAA,IAAEC,SAAS,CAAAD,UAAA,IACxB,IAAAE,UAAA,CAAwBnC,QAAQ,CAAC,EAAE,CAAC,CAAAoC,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAA7BE,IAAI,CAAAD,UAAA,IAAEE,OAAO,CAAAF,UAAA,IACpB,GAAM,CAAAG,OAAO,CAAG9B,UAAU,CAAC,CAAC,CAE5B,GAAM,CAAA+B,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAA,CAAS,CACvB,GAAIrB,MAAM,CAACsB,IAAI,CAAC,CAAC,EAAIJ,IAAI,CAAE,CACzBN,QAAQ,CAACnB,gBAAgB,CAAC,CAAEO,MAAM,CAANA,MAAM,CAAEkB,IAAI,CAAEA,IAAI,CAACK,IAAI,CAAC,GAAG,CAAE,CAAC,CAAC,CAAC,CAC5DH,OAAO,CAACI,IAAI,8BAAAC,MAAA,CAA8BzB,MAAM,EAAI,MAAM,WAAAyB,MAAA,CAASP,IAAI,CAACK,IAAI,CAAC,GAAG,CAAC,CAAE,CAAC,CACtF,CAAC,IAAM,CACLH,OAAO,CAACI,IAAI,CAAC,GAAG,CAAC,CACnB,CACF,CAAC,CAED,GAAM,CAAAE,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAIC,CAAC,CAAK,CAC5B,GAAIA,CAAC,CAACC,OAAO,GAAK,EAAE,CAAE,CACpBP,UAAU,CAAC,CAAC,CACd,CACF,CAAC,CAED,GAAM,CAAAQ,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAIC,GAAG,QAAK,CAAAX,OAAO,IAAAM,MAAA,CAAAM,kBAAA,CAAKb,IAAI,GAAEY,GAAG,EAAC,CAAC,GAEtD,GAAM,CAAAE,gBAAgB,CAAG,QAAnB,CAAAA,gBAAgBA,CAAIC,YAAY,QAAK,CAAAd,OAAO,CAACD,IAAI,CAACgB,MAAM,CAAC,SAACJ,GAAG,QAAK,CAAAA,GAAG,GAAKG,YAAY,GAAC,CAAC,GAE9F,mBACErD,KAAA,CAAAuD,aAAA,CAACpD,IAAI,EAACqD,EAAE,oBACNxD,KAAA,CAAAuD,aAAA,CAACrD,SAAS,EAACuD,QAAQ,CAAC,IAAI,eACtBzD,KAAA,CAAAuD,aAAA,CAACnD,IAAI,EAACsD,SAAS,MAACC,OAAO,CAAC,eAAe,CAACC,UAAU,CAAC,SAAS,CAACC,OAAO,CAAE,CAAE,CAACC,SAAS,CAAExC,OAAO,CAACyC,aAAc,eACxG/D,KAAA,CAAAuD,aAAA,CAACnD,IAAI,EAAC4D,IAAI,MAACC,EAAE,CAAE,EAAG,CAACC,EAAE,CAAE,CAAE,CAACC,EAAE,CAAE,CAAE,eAC9BnE,KAAA,CAAAuD,aAAA,CAACzC,KAAK,EAACiB,YAAY,CAAEA,YAAa,CAAE,CAChC,CAAC,cACP/B,KAAA,CAAAuD,aAAA,CAACnD,IAAI,EAAC4D,IAAI,MAACC,EAAE,CAAE,EAAG,CAACC,EAAE,CAAE,CAAE,CAACC,EAAE,CAAE,CAAE,eAC9BnE,KAAA,CAAAuD,aAAA,CAAClD,MAAM,EAACyD,SAAS,CAAExC,OAAO,CAAC8C,YAAa,CAACC,QAAQ,CAAC,QAAQ,CAACC,KAAK,CAAC,SAAS,eACxEtE,KAAA,CAAAuD,aAAA,CAACjD,SAAS,EAACiE,SAAS,CAAEzB,cAAe,CAAC0B,IAAI,CAAC,QAAQ,CAACC,OAAO,CAAC,UAAU,CAACC,KAAK,CAAC,iBAAiB,CAACC,SAAS,MAACC,KAAK,CAAExD,MAAO,CAACyD,QAAQ,CAAE,SAAAA,SAAC9B,CAAC,QAAK,CAAAZ,SAAS,CAACY,CAAC,CAAC+B,MAAM,CAACF,KAAK,CAAC,EAAC,CAAE,CAAC,cACtK5E,KAAA,CAAAuD,aAAA,CAAC3C,SAAS,EACRmE,KAAK,CAAE,CAAEC,MAAM,CAAE,QAAS,CAAE,CAC5BJ,KAAK,CAAEtC,IAAK,CACZ2C,KAAK,CAAE,SAAAA,MAACC,IAAI,QAAK,CAAAjC,aAAa,CAACiC,IAAI,CAAC,EAAC,CACrCC,QAAQ,CAAE,SAAAA,SAACD,IAAI,QAAK,CAAA9B,gBAAgB,CAAC8B,IAAI,CAAC,EAAC,CAC3CR,KAAK,CAAC,aAAa,CACnBD,OAAO,CAAC,UAAU,CACnB,CAAC,cACFzE,KAAA,CAAAuD,aAAA,CAAChD,MAAM,EAAC6E,OAAO,CAAE3C,UAAW,CAACqB,SAAS,CAAExC,OAAO,CAAC+D,YAAa,CAACZ,OAAO,CAAC,WAAW,CAACH,KAAK,CAAC,SAAS,EAAC,QAAc,CAC1G,CAAC,cACTtE,KAAA,CAAAuD,aAAA,CAACxC,IAAI,EAACe,SAAS,CAAEA,SAAU,CAACC,YAAY,CAAEA,YAAa,CAAE,CAAC,CACxD,CAACL,WAAW,EAAI,CAACY,IAAI,CAACgD,MAAM,eAC5BtF,KAAA,CAAAuD,aAAA,CAAC/C,KAAK,EAACsD,SAAS,CAAExC,OAAO,CAACiE,UAAW,CAACC,SAAS,CAAE,CAAE,eACjDxF,KAAA,CAAAuD,aAAA,CAACvC,UAAU,EAACQ,IAAI,CAAEA,IAAK,CAAE,CACpB,CAEL,CACF,CACG,CACP,CAAC,CAEX,CAAC,CAED,cAAe,CAAAH,IAAI"},"metadata":{},"sourceType":"module"}